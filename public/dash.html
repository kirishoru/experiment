<!DOCTYPE html>
<html>

<head>
	<title>Kirishoru.com</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
	<script src="js/script.js"></script>
	<link rel="icon" href="img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">

	<style>
		text {
			font-family: sans-serif;
			font-size: 1.25em;
			text-anchor: middle;
			color: #3399FF;
		}
	</style>

	<script type="text/javascript">
		$(document).ready(function () {

			var data = [
				{
					"name": "Milestone 1",
					"values": [2, 8]
				}, {
					"name": "Milestone 2",
					"values": [3, 7]
				}, {
					"name": "Milestone 3",
					"values": [4, 6]
				}, {
					"name": "Milestone 4",
					"values": [5, 5]
				}, {
					"name": "Milestone 5",
					"values": [6, 4]
				}];

			var margin = {
					top: 20,
					right: 20,
					bottom: 20,
					left: 20
				},
				width = 400 - margin.left - margin.right,
				height = width - margin.top - margin.bottom;
			var cwidth = 25;

			d3.selection.prototype.moveToFront = function () {
				return this.each(function () {
					this.parentNode.appendChild(this);
				});
			};

			var color = d3.scale.ordinal()
				.range(["#7FA1FF", "#ebebeb"]);

			var svg = d3.select("#dash")
				.append("svg")
				.attr("width", width)
				.attr("height", height)
				.append("g")
				.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

			var gs = svg.selectAll("g").data(data).enter().append("g");

			var pie = d3.layout.pie()
				.sort(null)
				.startAngle(0)
				.endAngle(2 * Math.PI);

			var arc = d3.svg.arc()
				.innerRadius(function (d, i, j) {
					return 1 + cwidth * j;
				})
				.outerRadius(function (d, i, j) {
					return cwidth * (j + 1);
				});

			var path = gs.selectAll("path")
				.data(function (d) {
					return pie(d.values);
				})
				.enter()
				.append("path")
				.attr("class", function (d, i) {
					return "path" + i;
				})
				.attr("fill", function (d, i) {
					return color(i);
				})
				.attr("d", function (d, i, j) {
					return arc(d, i, j);
				});

			gs.on("mouseover", function () {
				d3.select(this).select(".path0").attr("fill", "#ffb333");

				var str = d3.select(this).select(".path0").attr("d");
				var res1 = str.split(",");
				var res2 = res1[1].split("A");

				d3.select(this.parentNode).append("path").attr("class", "line").attr("d", function () {
						return "M0," + res2[0] + "L0,135";
					})
					.attr("stroke", "#ffb333").attr("stroke-width", 3).attr("fill", "none");

				d3.select(this).append("text").attr("x", 50).attr("y", 150)
					.text(function (d, i) {
						return d.name + ": " + d.values[0] * 10 + "% Complete";
					})
					.attr("fill", "#7FA1FF")
					.style("font-weight", "bold");
			});

			gs.on("mouseleave", function () {
				d3.select(this).select(".path0").attr("fill", "#7FA1FF");
				d3.selectAll("text").remove();
				d3.selectAll(".line").remove();
			});
		});
	</script>

</head>

<body>
	<div class="container-fluid">
		<div class="row" style="padding-bottom: 10px;"></div>

		<div class="row">
			<div class="col-sm-3">
				<div class="sidebar-nav">
					<div class="navbar navbar-default bc-0-0" role="navigation">
						<div class="navbar-header">

							<button type="button" class="navbar-toggle bc-0-1" data-toggle="collapse" data-target=".sidebar-navbar-collapse">
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
						</div>
						<div class="navbar-collapse collapse sidebar-navbar-collapse">
							<ul class="nav navbar-nav">
								<li class="menu">
									<a href="index.html"><img alt="Brand" src="img/logo.svg" height="16px"> Home</a>
								</li>
								<li class="menu"><a href="resume.html"><span class="glyphicon glyphicon-briefcase"></span> Resume</a>
								</li>
								<li class="text-center bc-0-1">
									<p class="fc-0-4" style="padding-right:10px;"><span class="caret"></span> Experiments<span class="caret"></span>
									</p>
								</li>
								<li class="menu"><a href="calc.html"><span class="glyphicon glyphicon-scale"></span> Body Composition Calculator</a>
								</li>
								<li class="menu"><a href="dash.html"><span class="glyphicon glyphicon-dashboard"></span> Dashboard</a>
								</li>
								<li class="menu"><a href="effthisplace.html"><span class="glyphicon glyphicon-globe"></span> Eff This Place</a>
								</li>
							</ul>
						</div>
						<!--/.nav-collapse -->
					</div>
				</div>
			</div>
			<div class="col-sm-9" id="dash">
						<div class="panel panel-body"><p>I intend to use this area to practice designing data visualizations. The piece below was just a throwaway built with D3. I'll add more along with some descriptions and background as I get a chance to design them.</p></div>
				<h3>Coming Soon</h3>
			</div>
		</div>
	</div>
</body>

</html>